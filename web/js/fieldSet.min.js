var columns_app_base=[{field:"selector",checkbox:true},{width:70,halign:"center",align:"center",field:"appId",title:"报名编号"},{width:80,halign:"center",align:"center",field:"appDate",title:"报名时间"},{width:140,halign:"center",align:"center",field:"stuId",title:"身份证号"},{width:60,halign:"center",align:"left",field:"name",title:"姓名"},{width:50,halign:"center",align:"center",field:"degree",title:"学历",formatter:format_degree},{width:150,halign:"center",align:"left",field:"address",title:"地址"},{width:100,halign:"center",align:"left",field:"phone",title:"电话"},{width:160,halign:"center",align:"left",field:"department",title:"单位",formatter:format_department},{width:60,halign:"center",align:"center",field:"type",title:"准操项目",formatter:format_appType},{width:180,halign:"center",align:"left",field:"item",title:"准操项目",formatter:format_item},{width:50,halign:"center",align:"center",field:"status",title:"状态",formatter:format_appStatus}];var columns_app_company=columns_app_base.concat([{width:50,halign:"center",align:"center",field:"source",title:"来源",formatter:format_source},{width:60,halign:"center",align:"right",field:"price_student",title:"收费标准"},{width:70,halign:"center",align:"right",field:"price_manage",title:"业务服务费"},{width:70,halign:"center",align:"right",field:"price_app",title:"报名服务费"},{width:60,halign:"center",align:"right",field:"price_agent",title:"代理费"},{width:60,halign:"center",align:"center",field:"status_settle_agent",title:"代理结算状态",formatter:format_settleStatus},{width:60,halign:"center",align:"center",field:"status_settle_institution",title:"机构结算状态",formatter:format_settleStatus},{width:100,halign:"center",align:"left",field:"agentName",title:"代理"},{width:100,halign:"center",align:"left",field:"institutionName",title:"培训机构"},]);var columns_app_institution=columns_app_base.concat([{width:50,halign:"center",align:"center",field:"source",title:"来源",formatter:format_source},{width:100,halign:"center",align:"left",field:"appointTrainName",title:"预约培训"},{width:100,halign:"center",align:"left",field:"appointExamName",title:"预约考核"},{width:100,halign:"center",align:"left",field:"place",title:"培训地点"},{width:120,halign:"center",align:"left",field:"trainName",title:"培训批次"},{width:120,halign:"center",align:"left",field:"examName",title:"考核批次"},{width:100,halign:"center",align:"center",field:"tries",title:"考试次数"},{width:80,halign:"center",align:"center",field:"score",title:"成绩",formatter:format_score},{width:120,halign:"center",align:"left",field:"accreditName",title:"制证批次"},{width:60,halign:"center",align:"right",field:"price_student",title:"收费标准"},{width:70,halign:"center",align:"right",field:"price_manage",title:"业务服务费"},{width:70,halign:"center",align:"right",field:"price_app",title:"报名服务费"},{width:60,halign:"center",align:"center",field:"status_settle_institution",title:"结算状态",formatter:format_settleStatus}]);var columns_app_agent=columns_app_base.concat([{width:100,halign:"center",align:"left",field:"appointTrainName",title:"预约培训"},{width:100,halign:"center",align:"left",field:"appointExamName",title:"预约考核"},{width:100,halign:"center",align:"left",field:"place",title:"培训地点"},{width:120,halign:"center",align:"left",field:"trainName",title:"培训批次"},{width:120,halign:"center",align:"left",field:"examName",title:"考核批次"},{width:100,halign:"center",align:"center",field:"tries",title:"考试次数"},{width:80,halign:"center",align:"center",field:"score",title:"成绩",formatter:format_score},{width:120,halign:"center",align:"left",field:"accreditName",title:"制证批次"},{width:60,halign:"center",align:"right",field:"price_student",title:"收费标准"},{width:60,halign:"center",align:"center",field:"status_settle_agent",title:"结算状态",formatter:format_settleStatus}]);var columns_item_company=[[{width:190,halign:"center",rowspan:2,field:"item",title:"准操项目",formatter:format_item},{colspan:2,title:"收费标准"},{colspan:2,title:"业务服务费"},{colspan:2,title:"报名服务费"},{colspan:2,title:"代理费"},{width:60,halign:"center",align:"center",field:"status",title:"状态",formatter:format_item_status}],[{width:60,halign:"center",align:"right",field:"price_student_1",title:"初办"},{width:60,halign:"center",align:"right",field:"price_student_2",title:"复审"},{width:60,halign:"center",align:"right",field:"price_manage_1",title:"初办"},{width:60,halign:"center",align:"right",field:"price_manage_2",title:"复审"},{width:60,halign:"center",align:"right",field:"price_app_1",title:"初办"},{width:60,halign:"center",align:"right",field:"price_app_2",title:"复审"},{width:60,halign:"center",align:"right",field:"price_agent_1",title:"初办"},{width:60,halign:"center",align:"right",field:"price_agent_2",title:"复审"}]];var columns_item_institution=[[{width:190,halign:"center",align:"left",rowspan:2,field:"item",title:"准操项目",formatter:format_item},{colspan:2,title:"收费标准"},{colspan:2,title:"业务服务费"},{colspan:2,title:"报名服务费"},{width:60,halign:"center",align:"center",rowspan:2,field:"status",title:"状态",formatter:format_item_status}],[{width:60,halign:"center",align:"right",field:"price_student_1",title:"初办"},{width:60,halign:"center",align:"right",field:"price_student_2",title:"复审"},{width:60,halign:"center",align:"right",field:"price_manage_1",title:"初办"},{width:60,halign:"center",align:"right",field:"price_manage_2",title:"复审"},{width:60,halign:"center",align:"right",field:"price_app_1",title:"初办"},{width:60,halign:"center",align:"right",field:"price_app_2",title:"复审"}]];
var columns_address=[[{width:120,halign:"center",align:"left",field:"name",title:"名称"},{width:80,halign:"center",align:"center",field:"type",title:"类型",formatter:formatTeacherOrAddressType},{width:80,halign:"center",align:"center",field:"capacity",title:"座位数"}]];var columns_teacher=[[{width:80,halign:"center",align:"left",field:"name",title:"姓名"},{width:80,halign:"center",align:"center",field:"type",title:"类型",formatter:formatTeacherOrAddressType},{width:100,halign:"center",align:"center",field:"certId",title:"证件编号"}]];var degrees=[{value:0,text:"初中"},{value:1,text:"高中"},{value:2,text:"中技"},{value:3,text:"中专"},{value:4,text:"大专"},{value:5,text:"本科"},{value:6,text:"研究生"}];var departTypes=[{value:0,text:"社会"},{value:1,text:"国有企业"},{value:2,text:"私营企业"},{value:3,text:"外资企业"}];var appTypes=[{value:0,text:"初办"},{value:1,text:"复审"},{value:2,text:"补办"}];var appStatus=[{value:0,text:"待分配"},{value:1,text:"待接收"},{value:2,text:"待审核"},{value:3,text:"待培训"},{value:4,text:"培训中"},{value:5,text:"待考核"},{value:6,text:"考核中"},{value:7,text:"待制证"},{value:8,text:"制证中"},{value:9,text:"已制证"},{value:10,text:"结束"}];var items=[{"value":"0100","text":"电工作业","children":[{"value":"0101","text":"高压电工作业","selected":true},{"value":"0102","text":"低压电工作业"},{"value":"0103","text":"防爆电气作业"}]},{"value":"0200","text":"焊接与热切割作业","state":"closed","children":[{"value":"0201","text":"熔化焊接与热切割作业"},{"value":"0202","text":"压力焊作业"},{"value":"0203","text":"钎焊作业"}]},{"value":"0300","text":"高处作业","state":"closed","children":[{"value":"0301","text":"登高架设作业"},{"value":"0302","text":"高处安装、维护、拆除作业"}]},{"value":"0400","text":"制冷与空调作业","state":"closed","children":[{"value":"0401","text":"制冷与空调设备运行操作作业"},{"value":"0402","text":"制冷与空调设备安装修理作业"}]},{"value":"0500","text":"煤矿安全作业","state":"closed","children":[{"value":"0501","text":"煤矿井下电气作业"},{"value":"0502","text":"煤矿井下爆破作业"},{"value":"0503","text":"煤矿安全监测监控作业"},{"value":"0504","text":"煤矿瓦斯检查作业"},{"value":"0505","text":"煤矿安全检查作业"},{"value":"0506","text":"煤矿提升机操作作业"},{"value":"0507","text":"煤矿采煤机（掘进机）操作作业 "},{"value":"0508","text":"煤矿瓦斯抽采作业"},{"value":"0509","text":"煤矿防突作业"},{"value":"0510","text":"煤矿探放水作业"}]},{"value":"0600","text":"金属非金属矿山安全作业","state":"closed","children":[{"value":"0601","text":"金属非金属矿井通风作业"},{"value":"0602","text":"尾矿作业"},{"value":"0603","text":"金属非金属矿山安全检查作业（地下矿山）"},{"value":"0604","text":"金属非金属矿山提升机操作作业"},{"value":"0605","text":"金属非金属矿山支柱作业"},{"value":"0606","text":"金属非金属矿山井下电气作业"},{"value":"0607","text":"金属非金属矿山排水作业 "},{"value":"0608","text":"金属非金属矿山爆破作业"}]},{"value":"0700","text":"石油天然气安全作业","state":"closed","children":[{"value":"0701","text":"司钻作业"}]},{"value":"0800","text":"冶金（有色）生产安全作业","state":"closed","children":[{"value":"0801","text":"煤气作业"}]},{"value":"0900","text":"危险化学品安全作业","state":"closed","children":[{"value":"0901","text":"光气及光气化工艺作业"},{"value":"0902","text":"氯碱电解工艺作业"},{"value":"0903","text":"氯化工艺作业"},{"value":"0904","text":"硝化工艺作业"},{"value":"0905","text":"合成氨工艺作业"},{"value":"0906","text":"裂解（裂化）工艺作业"},{"value":"0907","text":"氟化工艺作业 "},{"value":"0908","text":"加氢工艺作业"},{"value":"0909","text":"氧化工艺作业"},{"value":"0910","text":"过氧化工艺作业"},{"value":"0911","text":"胺基化工艺作业"},{"value":"0912","text":"磺化工艺作业"},{"value":"0913","text":"聚合工艺作业"},{"value":"0914","text":"烷基化工艺作业"},{"value":"0915","text":"化工自动化控制仪表作业"}]},{"value":"1000","text":"烟花爆竹安全作业","state":"closed","children":[{"value":"1001","text":"烟火药制造作业"},{"value":"1002","text":"黑火药制造作业"},{"value":"1003","text":"引火线制造作业"},{"value":"1004","text":"烟花爆竹产品涉药作业"},{"value":"1005","text":"烟花爆竹储存作业"}]},{"value":"1100","text":"生产经营单位主要负责人","state":"closed","children":[{"value":"1101","text":"金属非金属矿山（露天矿山）"},{"value":"1102","text":"金属非金属矿山（地下矿山）"},{"value":"1103","text":"金属非金属矿山（小型露天采石场）"},{"value":"1104","text":"危险化学品生产单位"},{"value":"1105","text":"危险化学品经营单位"},{"value":"1106","text":"烟花爆竹生产单位"},{"value":"1107","text":"烟花爆竹经营单位"},{"value":"1108","text":"其他生产经营单位"}]},{"value":"1200","text":"生产经营单位安全管理人员","state":"closed","children":[{"value":"1201","text":"金属非金属矿山（露天矿山）"},{"value":"1202","text":"金属非金属矿山（地下矿山）"},{"value":"1203","text":"金属非金属矿山（小型露天采石场）"},{"value":"1204","text":"危险化学品生产单位"},{"value":"1205","text":"危险化学品经营单位"},{"value":"1206","text":"烟花爆竹生产单位"},{"value":"1207","text":"烟花爆竹经营单位"},{"value":"1208","text":"其他生产经营单位"}]}];var source=[{value:0,text:"机构"},{value:1,text:"平台"}];var settleStatus=[{value:0,text:"待结算"},{value:1,text:"已结算"}];var teacherOrAddressTypes=[{value:0,text:"理论",selected:true},{value:1,text:"实操"}];function format_source(value,row,index){return source[value].text}function format_settleStatus(value,row,index){return settleStatus[value].text}function format_score(value,row,index){var score="";score+=(row.thScore==-1?"未录入":row.thScore);score+="|";switch(row.opScore){case -1:score+="未录入";break;case 0:score+="不合格";break;case 1:score+="合格"}return score}function format_degree(value,row,index){return degrees[value].text}function format_department(value,row,index){var str=value;str+=("[<label style='color:red'>"+departTypes[row.departType].text+"</label>]");
    return str}function format_appType(value,row,index){return appTypes[value].text}function formatTeacherOrAddressType(value,row,index){return teacherOrAddressTypes[value].text}function format_appStatus(value,row,index){return appStatus[value].text}function format_item(value,row,index){var workId=Number(value.substring(0,2));var item=Number(value.substring(2,4));var work=items[workId-1];if(item==0){return work.text}var itemName=work.children[item-1].text;itemName+=("[<label style='color:red'>"+work.text+"</label>]");return itemName}function format_item_status(value,row,index){return(value==1?"已审核":"未审核")}function getAppColumnsForCompany(value){return getColumns(columns_app_company,value)}function getAppColumnsForInstitution(value){return getColumns(columns_app_institution,value)}function getAppColumnsForAgent(value){return getColumns(columns_app_agent,value)}function getFieldSetDlgForCompany(value){return getContent(columns_app_company,value)}function getFieldSetDlgForInstitution(value){return getContent(columns_app_institution,value)}function getFieldSetDlgForAgent(value){return getContent(columns_app_agent,value)}function getFieldValue(){var value=0;var checks=$(":checkbox");for(var i in checks){if(checks[i].checked){value+=Number(checks[i].value)}}return value}function getColumns(columns,value){var result=[];for(var i in columns){if((value&Math.pow(2,i))!=0){result.push(columns[i])}}return[result]}function getContent(columns,value){var content="<table style='font-size: 12px;'>";for(var i in columns){var col=columns[i];if(i%3==0){content+="<tr>"}var title=(col.field=="selector"?"选择框":col.title);var v=Math.pow(2,i);if((v&value)==0){content+=("<td><input type='checkbox' value='"+v+"'>"+title+"</td>")}else{content+=("<td><input type='checkbox' value='"+v+"' checked>"+title+"</td>")}if(i%3==2||i==columns.length-1){content+="</tr>"}}content+="</table>";return content}function limitLeaf(node){var tree=$(this).tree;var isLeaf=tree("isLeaf",node.target);if(!isLeaf){$(this).combotree("clear")}};